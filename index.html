<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-36MYB1B529"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-36MYB1B529');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#A7A9AC">
    <meta name="description" content="View the current time in various boroughs of NYC!">
    <meta name="robots" content="index, nofollow">
    <title>thetime â€¢ nyc</title>
    <link rel="icon" href="l-train.png" type="image/icon type">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header content">
        <h1>thetime(nyc)</h1>
        <nav>
            <ul>
                <li><button id="brooklyn" class="hover-underline-animation header-buttons" aria-label="Brooklyn">brooklyn</button></li>
                <li><button id="manhattan" class="hover-underline-animation header-buttons" aria-label="Manhattan">manhattan</button></li>
                <li><button id="queens" class="hover-underline-animation header-buttons" aria-label="Queens">queens</button></li>
                <li><button id="bronx" class="hover-underline-animation header-buttons" aria-label="Bronx">bronx</button></li>
                <li><button id="staten" class="hover-underline-animation header-buttons" aria-label="Staten Island">staten island</button></li>
            </ul>
        </nav>
    </header>
    <main class="main-body">
        <div class="video-container">
            <video id="background-video" alt="Video of cityscapes" poster="background-m.jpeg" autoplay muted loop playsinline>
                <source src="background-shortened.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div id="the-time" class="content">
            <h2 class="scroll-left"></h2>
        </div>
    </main>
    <footer class="footer content">
        <a href="https://twitter.com/Lwbord" target="_blank" rel="noreferrer noopener">
            <p class="hover-underline-animation">lowell weisbord 2022</p>
        </a>
    </footer>
    <script src="moment.js" defer></script>
    <script src="moment-timezone-with-data-10-year-range.js" defer></script>
    <script src="javascript.js" defer></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var video = document.getElementById('background-video');
            video.addEventListener('error', function() {
                console.error('Error loading video');
                video.poster = 'fallback-image.jpg'; // Set a fallback image
            });

            // Lazy load video
            if ('IntersectionObserver' in window) {
                let observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.play();
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });

                observer.observe(video);
            } else {
                // Fallback for browsers without IntersectionObserver
                video.play();
            }
        });
    </script>
</body>
</html>
